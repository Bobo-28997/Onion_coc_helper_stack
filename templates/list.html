{% extends "base.html" %}

{% block title %}è°ƒæŸ¥å‘˜åˆ—è¡¨ - CoCåŠ©æ‰‹{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1>ğŸ—ƒï¸ è°ƒæŸ¥å‘˜åå†Œ</h1>

    <div class="d-flex gap-2">
        <form action="/investigators/import_json" method="post" enctype="multipart/form-data" class="d-inline">
            <input type="file" name="file" id="importFile" style="display: none;" onchange="this.form.submit()" accept=".json">
            <button type="button" class="btn btn-outline-secondary" onclick="document.getElementById('importFile').click()">
                <i class="fas fa-file-import"></i> å¯¼å…¥JSONè§’è‰²å¡
                </button>
        </form>
        <a href="/investigators/create" class="btn btn-primary">
            <i class="fas fa-plus"></i> æ–°å»ºè°ƒæŸ¥å‘˜
        </a>
    </div>
</div>

<div class="card shadow-sm">
    <div class="card-body p-0">
        <table class="table table-hover mb-0">
            <thead class="table-light">
                <tr>
                    <th class="ps-4">ID</th>
                    <th>å§“å</th>
                    <th>èŒä¸š</th>
                    <th>ç©å®¶</th>
                    <th>å…¶ä»–</th>
                    <th class="text-end pe-4">æ“ä½œ</th>
                </tr>
            </thead>
            <tbody hx-get="/investigators/list/rows"
                   hx-trigger="every 2s"
                   hx-swap="innerHTML">
                {% include "snippets/investigator_rows.html" %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}